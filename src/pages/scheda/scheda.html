<!--
  Generated template for the SchedaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->



<ion-content>
  <div id="information">
    <button (click)="addRemoveFavourite(structure.id)" id="favourite" class="icon-scheda" ion-button icon-only>
      <ion-icon *ngIf="isFavourite" name="star"></ion-icon>
      <ion-icon *ngIf="!isFavourite" name="star-outline"></ion-icon>
    </button>
    <button (click)="close()" id="close" class="icon-scheda" ion-button icon-only>
      <ion-icon name="md-close"></ion-icon>
    </button>
    <h1>{{structure.name}}</h1>
    <p>{{structure.deparment}}</p>
    <p>{{structure.address}}, {{structure.zipcode}}, {{structure.city}}</p>
    <p>{{structure.country}}</p>

    <div class="social">
      <span *ngIf="structure.facebook" (click)="openBrowser(structure.facebook)">Facebook</span>
      <span *ngIf="structure.youtube" (click)="openBrowser(structure.youtube)">Youtube</span>
      <span *ngIf="structure.twitter" (click)="openBrowser(structure.twitter)">Twitter</span>
      <span *ngIf="structure.hcpWebsite" (click)="openBrowser(structure.hcpWebsite)">Web</span>
    </div>
  </div>
  

  <ion-list class="accordion-list">
    <!-- First Level -->
    <ion-list-header *ngFor="let item of information; let i = index" no-lines no-padding>
      <!-- Toggle Button -->
      <button ion-item (click)="toggleSection(i)"  detail-none [ngClass]="{'section-active': item.open, 'section': !item.open, 'bg0': i==0, 'bg1': i==1 }">
          <ion-icon class="blue-color" item-left name="ios-contact-outline" *ngIf="i==0"></ion-icon>
          <ion-icon class="blue-color" item-left name="ios-alert-outline" *ngIf="i==1"></ion-icon>
          <ion-icon class="blue-color" item-left name="ios-time-outline" *ngIf="i==2"></ion-icon>
          <ion-icon class="blue-color" item-left name="ios-time-outline" *ngIf="i==3"></ion-icon>
          {{ item.name }}
          <ion-icon class="blue-color small-ico" item-right name="ios-arrow-down" *ngIf="!item.open"></ion-icon>
          <ion-icon class="blue-color small-ico" item-right name="ios-arrow-up" *ngIf="item.open"></ion-icon>
      </button>
      <ion-list *ngIf="item.children && item.open" no-lines [ngClass]="{ 'bgInternal0': i==0, 'bgInternal1': i==1 }"> 
        <!-- Second Level -->
        <ion-list-header *ngFor="let child of item.children; let j = index" no-padding >
          <!-- Direct Add Button as Fallback -->
          <ion-item *ngIf="!child.children" ion-item detail-none class="child-item" text-wrap>
              <div  *ngIf="child.name=='CONTACTS'">
                  <strong>Hcp cordinator</strong> 
                  <div class="cordinator" [innerHTML]="structure.cordinator"></div>
                  <!--<div class="phone" [innerHTML]="structure.phone"></div>
                  <div class="email" [innerHTML]="structure.email"></div>-->
                  <div class="email-phone" *ngFor="let c of structure.centerEmail; let i = index">
                    <strong>{{c.label}}</strong>
                    <span (click)="email()">{{c.email}}</span>
                  </div>
                  <div class="email-phone" *ngFor="let c of structure.centerPhone; let i = index">
                    <strong>{{c.label}}</strong>
                    <span (click)="call(c.phone)">{{c.phone}}</span>
                  </div>
                  <div>
                    <span (click)="call(structure.phone)">{{structure.phone}}</span>
                  </div>
                  <div>
                    <span (click)="email(structure.email)">{{structure.email}}</span>
                  </div>
              </div>
              <div *ngIf="child.name=='TARGET DISEASES'">
                  <div>
                    <ul> 
                      <li *ngFor="let c of structure.disease; let i = index">{{c.disease.name}}</li>
                    </ul> 
                  </div>
              </div>
              <div  *ngIf="child.name=='SERVICES'">
                  <strong>Services</strong>
                  <div [innerHTML]="structure.coreService"></div>
                  <div  *ngIf="structure.otherSpecialistInside">
                    <strong>Other specialist evaluations offered INSIDE the HCP</strong>
                    <div [innerHTML]="structure.otherSpecialistInside"></div>
                  </div>
                  <div  *ngIf="structure.otherSpecialistOutside">
                    <strong>Other specialist evaluations offered OUTSIDE the HCP</strong>
                    <div [innerHTML]="structure.otherSpecialistOutside"></div>
                  </div>
                  <div  *ngIf="structure.service">
                    <div [innerHTML]="structure.service"></div>
                  </div>
              </div>
              <div  *ngIf="child.name=='OPENING HOURS'">
                  <div class="opening-time">
                      <div [innerHTML]="structure.openingTime"></div>
                      <div [innerHTML]="structure.openingTime"></div>
                  </div>
              </div>
          </ion-item>
        </ion-list-header>
      </ion-list>
    </ion-list-header>
  </ion-list>
  
  <div class="action-button">
      <button ion-button icon-start (click)="call(structure.phoneDirect)" >
        <ion-icon name="md-call"></ion-icon>
        Call now
      </button>
        
      <button (click)="email(structure.emailDirect)" ion-button icon-start>
        <ion-icon name="md-mail"></ion-icon>
        Send Email
      </button>
        
      <button (click)="maps(structure.address, structure.zipcode, structure.city, structure.country)" ion-button icon-start>
        <ion-icon name="md-walk"></ion-icon>
        Directions
      </button>
            
  </div>
  






</ion-content>
